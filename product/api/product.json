{
  "swagger": "2.0",
  "info": {
    "title": "Product Service API",
    "description": "产品信息管理服务",
    "version": "1.0"
  },
  "host": "localhost:8888",
  "basePath": "/",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/product/create": {
      "post": {
        "summary": "创建新产品",
        "operationId": "CreateProduct",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": " 创建产品请求",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateProductReq"
            }
          }
        ],
        "tags": [
          "ProductApi"
        ]
      }
    },
    "/api/product/delete/{product_id}": {
      "delete": {
        "summary": "删除产品（逻辑删除）",
        "operationId": "DeleteProduct",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Response"
            }
          }
        },
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "description": " 删除产品请求",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteProductReq"
            }
          }
        ],
        "tags": [
          "ProductApi"
        ]
      }
    },
    "/api/product/detail/{product_id}": {
      "get": {
        "summary": "获取产品详情",
        "operationId": "GetProductDetail",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Response"
            }
          }
        },
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ProductApi"
        ]
      }
    },
    "/api/product/list": {
      "post": {
        "summary": "分页查询产品列表",
        "operationId": "GetProductList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": " 查询产品列表请求",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProductListReq"
            }
          }
        ],
        "tags": [
          "ProductApi"
        ],
        "consumes": [
          "multipart/form-data"
        ]
      }
    },
    "/api/product/update": {
      "post": {
        "summary": "更新产品信息",
        "operationId": "UpdateProduct",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": " 更新产品请求",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateProductReq"
            }
          }
        ],
        "tags": [
          "ProductApi"
        ]
      }
    }
  },
  "definitions": {
    "CreateProductReq": {
      "type": "object",
      "properties": {
        "product_name": {
          "type": "string",
          "description": " 产品名称"
        },
        "product_type": {
          "type": "string",
          "description": " 产品类型，如“股票型”“债券型”“混合型”“货币型”"
        },
        "product_sub_type": {
          "type": "string",
          "description": " 产品子类型，可选"
        },
        "risk_level": {
          "type": "string",
          "description": " 风险等级，如“R1”“R2”..."
        },
        "product_status": {
          "type": "string",
          "description": " 产品状态，如“正常”“发行中”"
        },
        "manager": {
          "type": "string",
          "description": " 基金管理人"
        },
        "custodian": {
          "type": "string",
          "description": " 基金托管人"
        },
        "purchase_fee_rate": {
          "type": "number",
          "format": "double",
          "description": " 前端申购费率"
        },
        "redemption_fee_rule": {
          "type": "string",
          "description": " 赎回费率规则，JSON格式"
        },
        "description": {
          "type": "string",
          "description": " 产品说明书，可为空"
        }
      },
      "title": "CreateProductReq",
      "required": [
        "product_name",
        "product_type",
        "product_sub_type",
        "risk_level",
        "product_status",
        "manager",
        "custodian",
        "purchase_fee_rate",
        "redemption_fee_rule",
        "description"
      ]
    },
    "DeleteProductReq": {
      "type": "object",
      "title": "DeleteProductReq"
    },
    "GetProductDetailReq": {
      "type": "object",
      "title": "GetProductDetailReq"
    },
    "ProductInfo": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "description": " 产品唯一标识"
        },
        "product_name": {
          "type": "string",
          "description": " 产品名称"
        },
        "product_type": {
          "type": "string",
          "description": " 产品类型"
        },
        "product_sub_type": {
          "type": "string",
          "description": " 产品子类型"
        },
        "risk_level": {
          "type": "string",
          "description": " 风险等级"
        },
        "product_status": {
          "type": "string",
          "description": " 产品状态"
        },
        "manager": {
          "type": "string",
          "description": " 基金管理人"
        },
        "custodian": {
          "type": "string",
          "description": " 基金托管人"
        },
        "purchase_fee_rate": {
          "type": "number",
          "format": "float",
          "description": " 申购费率"
        },
        "redemption_fee_rule": {
          "type": "string",
          "description": " 赎回费率规则（JSON）"
        },
        "description": {
          "type": "string",
          "description": " 产品说明"
        },
        "create_time": {
          "type": "string",
          "description": " 创建时间"
        },
        "update_time": {
          "type": "string",
          "description": " 更新时间"
        },
        "create_by": {
          "type": "integer",
          "format": "int64",
          "description": " 创建人"
        }
      },
      "title": "ProductInfo",
      "required": [
        "product_id",
        "product_name",
        "product_type",
        "risk_level",
        "product_status",
        "manager",
        "custodian",
        "redemption_fee_rule",
        "description",
        "create_time",
        "update_time",
        "create_by"
      ]
    },
    "ProductListReq": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32",
          "default": "1"
        },
        "page_size": {
          "type": "integer",
          "format": "int32",
          "default": "10"
        },
        "search_key_words": {
          "type": "string",
          "description": " 产品名称搜索关键词，最大128字符"
        },
        "product_type": {
          "type": "string",
          "description": " 产品类型，如\"股票型\"\"债券型\"\"混合型\"\"货币型\"，长度4-32字"
        },
        "product_sub_type": {
          "type": "string",
          "description": " 产品子类型，根据实际业务细分，长度4-32字符"
        },
        "risk_level": {
          "type": "string",
          "description": " 产品风险等级，如\"R1\"\"R2\"\"R3\"\"R4\"\"R5\"，长度1-10字符"
        },
        "product_status": {
          "type": "string",
          "description": " 产品状态，如\"正常\"\"发行中\"\"暂停申购\"\"赎回\"\"清算中\"，长度2-20字符"
        },
        "manager": {
          "type": "string",
          "description": " 基金管理人，如\"天弘基金\"\"南方基金\"，长度4-64字符"
        },
        "custodian": {
          "type": "string",
          "description": " 基金托管人，如\"中信银行\"，长度4-64字符"
        }
      },
      "title": "ProductListReq"
    },
    "ProductListResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "msg": {
          "type": "string"
        },
        "total": {
          "type": "integer",
          "format": "int64"
        },
        "list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ProductInfo"
          }
        }
      },
      "title": "ProductListResp",
      "required": [
        "code",
        "msg",
        "total",
        "list"
      ]
    },
    "Response": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "msg": {
          "type": "string"
        },
        "data": {
          "type": "object"
        }
      },
      "title": "Response",
      "required": [
        "code",
        "msg",
        "data"
      ]
    },
    "UpdateProductReq": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string"
        },
        "product_name": {
          "type": "string"
        },
        "product_type": {
          "type": "string"
        },
        "product_sub_type": {
          "type": "string"
        },
        "risk_level": {
          "type": "string"
        },
        "product_status": {
          "type": "string"
        },
        "manager": {
          "type": "string"
        },
        "custodian": {
          "type": "string"
        },
        "purchase_fee_rate": {
          "type": "number",
          "format": "float"
        },
        "redemption_fee_rule": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      },
      "title": "UpdateProductReq",
      "required": [
        "product_id"
      ]
    }
  },
  "securityDefinitions": {
    "apiKey": {
      "type": "apiKey",
      "description": "Enter JWT Bearer token **_only_**",
      "name": "Authorization",
      "in": "header"
    }
  }
}
